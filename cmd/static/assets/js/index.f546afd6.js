import{r as t,j as e}from"./react@18.2.0.be237728.js";import{F as a,b as o,D as s,E as r}from"./@ant-design_icons@4.8.1_react-dom@18.2.0_react@18.2.0.688d00f2.js";import{T as i,M as c,I as l,m as p,R as n,U as f,a as d}from"./antd@5.8.6_react-dom@18.2.0_react@18.2.0.e8c62756.js";import{g as D}from"./helper.07728053.js";import{a as m}from"./axios@1.5.0.743c2fba.js";import"./@babel_runtime@7.22.15.d775819b.js";import"./@ant-design_icons-svg@4.3.1.ed2b4510.js";import"./classnames@2.3.2.78a47676.js";import"./@ant-design_colors@6.0.0.047ad5c3.js";import"./@ctrl_tinycolor@3.6.1.4982d949.js";import"./rc-util@5.37.0_react-dom@18.2.0_react@18.2.0.5dac6347.js";import"./react-is@16.13.1.80a4043c.js";import"./react-dom@18.2.0_react@18.2.0.0bb4e6e8.js";import"./scheduler@0.23.0.c51d43b5.js";import"./lodash@4.17.21.6cb78d49.js";import"./@ant-design_cssinjs@1.17.0_react-dom@18.2.0_react@18.2.0.c49adb7d.js";import"./@emotion_hash@0.8.0.b17c1a96.js";import"./@emotion_unitless@0.7.5.ede54c47.js";import"./stylis@4.3.0.b6f45693.js";import"./rc-resize-observer@1.3.1_react-dom@18.2.0_react@18.2.0.218d0dcd.js";import"./resize-observer-polyfill@1.5.1.ad543aa3.js";import"./rc-motion@2.9.0_react-dom@18.2.0_react@18.2.0.9878debb.js";import"./rc-notification@5.1.1_react-dom@18.2.0_react@18.2.0.e3f8fda9.js";import"./@ant-design_icons@5.2.6_react-dom@18.2.0_react@18.2.0.87fd2535.js";import"./@ant-design_colors@7.0.0.8d55ff50.js";import"./rc-checkbox@3.1.0_react-dom@18.2.0_react@18.2.0.febf4999.js";import"./dayjs@1.11.9.0ab4705d.js";import"./rc-tabs@12.9.0_react-dom@18.2.0_react@18.2.0.829ad666.js";import"./rc-dropdown@4.1.0_react-dom@18.2.0_react@18.2.0.1c03c536.js";import"./@rc-component_trigger@1.15.6_react-dom@18.2.0_react@18.2.0.6f95a0ff.js";import"./@rc-component_portal@1.1.2_react-dom@18.2.0_react@18.2.0.91f09b50.js";import"./rc-menu@9.10.0_react-dom@18.2.0_react@18.2.0.70c23822.js";import"./rc-overflow@1.3.2_react-dom@18.2.0_react@18.2.0.10079248.js";import"./rc-select@14.7.4_react-dom@18.2.0_react@18.2.0.1bb2a576.js";import"./rc-virtual-list@3.10.5_react-dom@18.2.0_react@18.2.0.04e7721e.js";import"./rc-input-number@8.0.4_react-dom@18.2.0_react@18.2.0.3188b8a7.js";import"./@rc-component_mini-decimal@1.1.0.aef7780e.js";import"./rc-input@1.1.1_react-dom@18.2.0_react@18.2.0.0a2693d3.js";import"./rc-drawer@6.2.0_react-dom@18.2.0_react@18.2.0.1c117dd2.js";import"./rc-field-form@1.36.2_react-dom@18.2.0_react@18.2.0.cb96c00a.js";import"./async-validator@4.2.5.cf877c1f.js";import"./scroll-into-view-if-needed@3.0.10.0f44d9d0.js";import"./compute-scroll-into-view@3.0.3.9a30535a.js";import"./rc-dialog@9.1.0_react-dom@18.2.0_react@18.2.0.aa306fb1.js";import"./rc-rate@2.12.0_react-dom@18.2.0_react@18.2.0.e79fe952.js";import"./rc-slider@10.2.1_react-dom@18.2.0_react@18.2.0.33754016.js";import"./rc-switch@4.1.0_react-dom@18.2.0_react@18.2.0.26d44f53.js";import"./rc-tree@5.7.10_react-dom@18.2.0_react@18.2.0.1451963f.js";import"./rc-pagination@3.6.1_react-dom@18.2.0_react@18.2.0.dd6e374c.js";import"./rc-textarea@1.3.4_react-dom@18.2.0_react@18.2.0.8bc97067.js";import"./rc-tree-select@5.11.2_react-dom@18.2.0_react@18.2.0.25e6f6f4.js";import"./rc-upload@4.3.4_react-dom@18.2.0_react@18.2.0.1b972b4e.js";import"./rc-picker@3.13.1_dayjs@1.11.9_react-dom@18.2.0_react@18.2.0.ec77deda.js";import"./rc-progress@3.4.2_react-dom@18.2.0_react@18.2.0.398bfe32.js";import"./rc-tooltip@6.0.1_react-dom@18.2.0_react@18.2.0.21a6985a.js";const C=r=>{const{name:c,path:l,isFolder:p,navigate:n,deleteAction:f}=r,[d,D]=t.useState(c);t.useEffect((()=>{D(c)}),[c]);return e.jsxs("a",{className:"file-manager-item",onClick:()=>{n&&n(c,p)},children:[e.jsxs("div",{className:"file-item",children:[p?e.jsx(a,{}):e.jsx(o,{}),e.jsx(i,{title:d,mouseEnterDelay:.5,children:e.jsx("span",{className:"file-manager-item-name",children:c})})]}),e.jsx("span",{className:"delete-item",children:e.jsx(s,{className:"file-manager-item-delete",onClick:t=>{t.stopPropagation(),f&&f(c,p)}})})]})},h=a=>{const{path:o,action:s}=a,[r,i]=t.useState(!1),[n,f]=t.useState("");return e.jsxs(e.Fragment,{children:[e.jsx("a",{className:"file-manager-create-folder",onClick:()=>{i(!0)},children:e.jsx("span",{className:"file-item",children:"创建文件夹"})}),e.jsxs(c,{title:"创建文件夹",open:r,onOk:()=>{var t;/^[^\\/:\*\?"<>\|]+$/s.test(n)?(t=n,s&&s(o,t),i(!1),f("")):p.error("请输入一个合法的文件名")},onCancel:()=>{i(!1),f("")},centered:!0,children:[e.jsx("br",{}),e.jsx(l,{placeholder:"文件夹名称",value:n,autoFocus:!0,onChange:t=>f(t.target.value)})]})]})};const g=a=>{const{path:o,navigate:s}=a,[r,i]=t.useState([]);t.useEffect((()=>{i(function(t){const e=t.split("/"),a=[];for(let o=0;o<e.length;o++)a.push({name:e[o],path:0===o?e[o]:`${a[o-1].path}/${e[o]}`});return a}(o))}),[o]);return e.jsx("div",{className:"file-manager-navigator",children:r&&r.map(((t,a)=>e.jsxs("span",{children:[a===r.length-1?e.jsx("span",{className:"current",children:t.name}):e.jsx("span",{className:"to",onClick:()=>{(t=>{s?s(t.path):alert(t.path)})(t)},children:t.name}),a<r.length-1&&e.jsx("span",{className:"gray",children:" / "})]},t.name)))})};function j(a){const{path:o,data:s,deleteAction:r,createFolder:i,retrive:c,navigate:l}=a,[p,f]=t.useState(o);t.useEffect((()=>{c(o),f(o)}),[o]);const d=(t,e)=>{l?l(t,e):f(t)},D=(t,e)=>{d(p+"/"+t,e)},m=(t,e)=>{r&&r(t,e)};return e.jsxs("div",{className:"file-manager",children:[e.jsx(g,{path:p,navigate:t=>{d(t,!0)}}),e.jsx(n,{children:s&&s.map((t=>e.jsx(C,{name:t.fileName,path:p+"/"+t.fileName,isFolder:t.isFolder,fileSize:t.fileSize,navigate:D,deleteAction:m},t.id)))}),e.jsx("br",{}),e.jsx(h,{path:o,action:i||((t,e)=>{})})]})}const{Dragger:_}=f,F=a=>{const{action:o,data:s,accept:r,showUploadList:i,onSuccess:c,onError:l}=a,[n,f]=t.useState(!1),d={name:"file",multiple:!0,showUploadList:i||!1,action:o||"/api/upload",data:s,accept:r||"*",onChange:function(t){const{status:e,size:a,name:o,response:s}=t.file;if("uploading"!==e)if(f(!1),"done"===e){const{filename:t}=s;let e={id:D(),fileName:t,size:a};c&&c(e)||p.success(`${o} 文件上传成功`)}else"error"===e&&(l&&l(t.file)||p.error(`${o} 文件上传失败`));else f(!0)}};return e.jsx("div",{children:e.jsx(_,{...d,className:"upload-dragger",children:e.jsx("div",{style:{pointerEvents:"none"},children:e.jsxs("div",{className:"drop_target",children:[e.jsxs("div",{className:"drop_target_text",children:[e.jsxs("div",{className:"img_files_container img_files_show_all",children:[e.jsx("div",{className:"img_file",children:e.jsx("img",{src:"data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20viewBox%3D%220%200%2081.83%20110.59%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%3Cdefs%3E%0A%20%20%3CradialGradient%20id%3D%22paper-shadow-gradient%22%20cx%3D%2255.58%22%20cy%3D%2229.83%22%20r%3D%2235%22%20fx%3D%2280.58%22%20fy%3D%225.83%22%20gradientTransform%3D%22matrix%28.80002%20-.00067782%20.00076905%20.90769%2011.092%202.7912%29%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.2%22%20offset%3D%220%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.12%22%20offset%3D%22.19%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.06%22%20offset%3D%22.42%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.01%22%20offset%3D%22.68%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%220%22%20offset%3D%221%22%2F%3E%0A%20%20%3C%2FradialGradient%3E%0A%20%20%3ClinearGradient%20id%3D%22corner-shadow-gradient%22%20x1%3D%2261.737%22%20x2%3D%2273.471%22%20y1%3D%2224.742%22%20y2%3D%2212.467%22%20gradientTransform%3D%22scale%28.93808%201.066%29%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%220%22%20offset%3D%220%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.023593%22%20offset%3D%22.52%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.04%22%20offset%3D%22.7%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.07%22%20offset%3D%22.84%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.18%22%20offset%3D%22.94%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.25%22%20offset%3D%221%22%2F%3E%0A%20%20%3C%2FlinearGradient%3E%0A%20%3C%2Fdefs%3E%0A%20%3Ctitle%3Epng-file%3C%2Ftitle%3E%0A%20%3Cpath%20id%3D%22paper-white%22%20d%3D%22m81.73%2029.79-26.18-29.73h-42.55a13%2013%200%200%200-13%2012.94v84.63a13%2013%200%200%200%2013%2013h55.88a13%2013%200%200%200%2013-13z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%3Cpath%20id%3D%22paper-shadow%22%20d%3D%22m81.73%2029.79-26.18-29.73h-42.55a13%2013%200%200%200-13%2012.94v84.63a13%2013%200%200%200%2013%2013h55.88a13%2013%200%200%200%2013-13z%22%20fill%3D%22url%28%23paper-shadow-gradient%29%22%2F%3E%0A%20%3Cpath%20id%3D%22corner-white%22%20d%3D%22m55.58%200%200.6%2022.13a6.09%206.09%200%200%200%206.09%206.08l19.56%201.62z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%3Cpath%20id%3D%22corner-shadow%22%20d%3D%22m55.58%200%200.6%2022.13a6.09%206.09%200%200%200%206.09%206.08l19.56%201.62z%22%20fill%3D%22url%28%23corner-shadow-gradient%29%22%2F%3E%0A%20%3Cpath%20id%3D%22icon%22%20d%3D%22m66.5%2055.49a0.28%200.28%200%200%200%200-0.13%200.21%200.21%200%200%200%200-0.06%200.65%200.65%200%200%200-0.19-0.18l-25.59-14.77a0.58%200.58%200%200%200-0.57%200l-17%209.82a0.35%200.35%200%200%200-0.21%200.12l-6.15%203.56a0.65%200.65%200%200%200-0.16%200.13v5.16a0.56%200.56%200%200%200%200.29%200.49l25.5%2014.73a0.58%200.58%200%200%200%200.28%200.07%200.59%200.59%200%200%200%200.29-0.07l23.23-13.36a0.56%200.56%200%200%200%200.29-0.49v-4.95a0.17%200.17%200%200%200-0.01-0.07zm-26.06-14%2024.37%2014.07-9.39%205.44-6.55%203.79-3.87-2.25a9.58%209.58%200%200%200%203.13-1.08%203.88%203.88%200%200%200%202.28-3.22%203.89%203.89%200%200%200-2.32-3.24%209.54%209.54%200%200%200-3-1.05l2.12-4.56a0.33%200.33%200%200%200%200-0.33%200.33%200.33%200%200%200-0.31-0.06l-15.46%202.35a0.32%200.32%200%200%200-0.27%200.26%200.32%200.32%200%200%200%200.15%200.34l5.81%203.36a4.2%204.2%200%200%200-1.6%201.85l-11.18-6.38zm-4.44%2016.66%206.89%203.93a10.05%2010.05%200%200%201-4.94-1.18%203.27%203.27%200%200%201-1.95-2.66zm0.14-0.67a3.72%203.72%200%200%201%201.66-1.81l4.89%202.82a0.29%200.29%200%200%200%200.16%200h0.1a0.33%200.33%200%200%200%200.19-0.18l1.75-3.77a9.17%209.17%200%200%201%202.92%201%203.28%203.28%200%200%201%201.95%202.66%203.27%203.27%200%200%201-1.95%202.66%209.42%209.42%200%200%201-3.76%201.14zm8.08-3-1.52%203.27-4.23-2.44-0.67-0.39-5.32-3.07%2014-2.16-1.94%204.18zm-20.52-3.32%2011.65%206.64a2.18%202.18%200%200%200%200%200.44%203.88%203.88%200%200%200%202.27%203.22%2010.74%2010.74%200%200%200%205.26%201.26h1l4.33%202.47-5.65%203.21-11.23-6.48-13.14-7.58zm-6.07%204.16%2024.37%2014.07v3.61l-24.37-14.09zm25.5%2016.47v-2.4l5.51-3.18v3.61l-5.51%203.18zm22.24-11.65-16.11%209.3v-3.61l16.08-9.29z%22%20fill%3D%22%234876ff%22%2F%3E%0A%20%3Ctext%20id%3D%22label%22%20transform%3D%22rotate%28-.12%29%22%20x%3D%2212.07291%22%20y%3D%2298.885506%22%20fill%3D%22%234876ff%22%20font-family%3D%22sans-serif%22%20font-size%3D%2212.27px%22%20font-weight%3D%22700%22%3E.png%3C%2Ftext%3E%0A%3C%2Fsvg%3E%0A",loading:"lazy",className:"file_card",alt:"PNG icon"})}),e.jsx("div",{className:"img_file",children:e.jsx("img",{src:"data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20viewBox%3D%220%200%2081.83%20110.59%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%3Cdefs%3E%0A%20%20%3CradialGradient%20id%3D%22paper-shadow-gradient%22%20cx%3D%2255.58%22%20cy%3D%2229.83%22%20r%3D%2235%22%20fx%3D%2280.58%22%20fy%3D%225.83%22%20gradientTransform%3D%22matrix%28.80002%20-.00067782%20.00076905%20.90769%2011.092%202.7912%29%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.2%22%20offset%3D%220%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.12%22%20offset%3D%22.19%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.06%22%20offset%3D%22.42%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.01%22%20offset%3D%22.68%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%220%22%20offset%3D%221%22%2F%3E%0A%20%20%3C%2FradialGradient%3E%0A%20%20%3ClinearGradient%20id%3D%22corner-shadow-gradient%22%20x1%3D%2261.737%22%20x2%3D%2273.471%22%20y1%3D%2224.742%22%20y2%3D%2212.467%22%20gradientTransform%3D%22scale%28.93808%201.066%29%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%220%22%20offset%3D%220%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.023593%22%20offset%3D%22.52%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.04%22%20offset%3D%22.7%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.07%22%20offset%3D%22.84%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.18%22%20offset%3D%22.94%22%2F%3E%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.25%22%20offset%3D%221%22%2F%3E%0A%20%20%3C%2FlinearGradient%3E%0A%20%3C%2Fdefs%3E%0A%20%3Ctitle%3Epng-file%3C%2Ftitle%3E%0A%20%3Cpath%20id%3D%22paper-white%22%20d%3D%22m81.73%2029.79-26.18-29.73h-42.55a13%2013%200%200%200-13%2012.94v84.63a13%2013%200%200%200%2013%2013h55.88a13%2013%200%200%200%2013-13z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%3Cpath%20id%3D%22paper-shadow%22%20d%3D%22m81.73%2029.79-26.18-29.73h-42.55a13%2013%200%200%200-13%2012.94v84.63a13%2013%200%200%200%2013%2013h55.88a13%2013%200%200%200%2013-13z%22%20fill%3D%22url%28%23paper-shadow-gradient%29%22%2F%3E%0A%20%3Cpath%20id%3D%22corner-white%22%20d%3D%22m55.58%200%200.6%2022.13a6.09%206.09%200%200%200%206.09%206.08l19.56%201.62z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%3Cpath%20id%3D%22corner-shadow%22%20d%3D%22m55.58%200%200.6%2022.13a6.09%206.09%200%200%200%206.09%206.08l19.56%201.62z%22%20fill%3D%22url%28%23corner-shadow-gradient%29%22%2F%3E%0A%20%3Cpath%20id%3D%22icon%22%20d%3D%22m%2016.57%2C60.7%20a%200.6%2C0.6%200%200%200%200.06%2C0.11%20l%200.06%2C0.1%200.1%2C0.09%20h%200.06%20l%2025.44%2C14.81%20h%200.05%20v%200%20a%200.56%2C0.56%200%200%200%200.44%2C0%20h%200.06%20v%200%20L%2065%2C62.57%20v%200%20a%200.28%2C0.28%200%200%200%200.1%2C-0.09%200.72%2C0.72%200%200%200%200.12%2C-0.21%20v%20-0.12%20c%200%2C0%200%2C-0.05%200%2C-0.08%20v%20-5.19%200%20a%200.57%2C0.57%200%200%200%200%2C-0.22%20c%200%2C0%200%2C0%200%2C0%20a%200.59%2C0.59%200%200%200%20-0.13%2C-0.18%20v%200%20L%2064.96%2C56.38%2039.57%2C41.56%20a%200.67%2C0.67%200%200%200%20-0.66%2C0%20L%2016.85%2C54.81%2016.73%2C54.9%20v%200%20a%200.57%2C0.57%200%200%200%20-0.12%2C0.18%20c%200%2C0%200%2C0%200%2C0%20a%200.8%2C0.8%200%200%200%200%2C0.21%20v%200%205.13%20c%200%2C0%200%2C0.06%200%2C0.08%20a%200.59%2C0.59%200%200%200%20-0.04%2C0.2%20z%20m%2011%2C-10.82%2012.92%2C-0.05%201.37%2C7.91%20-4.63%2C0.26%20a%200.32%2C0.32%200%200%200%200%2C0.64%20l%207.37%2C-0.43%201.68%2C7.72%20-23.1%2C-13.42%20z%20M%2064%2C58%20v%203.64%20L%2048%2C71.29%20V%2067.65%20Z%20M%2047.35%2C71.67%2043.26%2C74.13%20V%2070.49%20L%2047.35%2C68%20Z%20M%2042%2C70.5%20v%203.64%20l%20-24.15%2C-14%20v%20-3.66%20z%20m%20-2.75%2C-27.64%2024.17%2C14%20-16.07%2C9.67%20-0.27%2C-0.16%20-1.87%2C-8.56%20a%200.32%2C0.32%200%200%200%20-0.33%2C-0.25%20l%20-2.4%2C0.14%20-1.42%2C-8.25%20a%200.32%2C0.32%200%200%200%20-0.32%2C-0.27%20v%200%20l%20-12.11%2C0.06%20z%20m%20-16.7%2C10%2024.17%2C14%20-4.11%2C2.47%20-24.17%2C-14%20z%22%20fill%3D%22%234876ff%22%2F%3E%0A%20%3Ctext%20id%3D%22label%22%20transform%3D%22rotate%28-.12%29%22%20x%3D%2212.07291%22%20y%3D%2298.885506%22%20fill%3D%22%234876ff%22%20font-family%3D%22sans-serif%22%20font-size%3D%2212.27px%22%20font-weight%3D%22700%22%3E.jpg%3C%2Ftext%3E%0A%3C%2Fsvg%3E%0A",loading:"lazy",className:"file_card",alt:"JPEG icon"})}),e.jsx("div",{className:"img_file",children:e.jsx("img",{src:"data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20viewBox%3D%220%200%2081.83%20110.59%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0D%0A%20%3Cdefs%3E%0D%0A%20%20%3CradialGradient%20id%3D%22paper-shadow-gradient%22%20cx%3D%2255.58%22%20cy%3D%2229.83%22%20r%3D%2235%22%20fx%3D%2280.58%22%20fy%3D%225.83%22%20gradientTransform%3D%22matrix%28.80002%20-.00067782%20.00076905%20.90769%2011.092%202.7912%29%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0D%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.2%22%20offset%3D%220%22%2F%3E%0D%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.12%22%20offset%3D%22.19%22%2F%3E%0D%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.06%22%20offset%3D%22.42%22%2F%3E%0D%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.01%22%20offset%3D%22.68%22%2F%3E%0D%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%220%22%20offset%3D%221%22%2F%3E%0D%0A%20%20%3C%2FradialGradient%3E%0D%0A%20%20%3ClinearGradient%20id%3D%22corner-shadow-gradient%22%20x1%3D%2261.737%22%20x2%3D%2273.471%22%20y1%3D%2224.742%22%20y2%3D%2212.467%22%20gradientTransform%3D%22scale%28.93808%201.066%29%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0D%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%220%22%20offset%3D%220%22%2F%3E%0D%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.023593%22%20offset%3D%22.52%22%2F%3E%0D%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.04%22%20offset%3D%22.7%22%2F%3E%0D%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.07%22%20offset%3D%22.84%22%2F%3E%0D%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.18%22%20offset%3D%22.94%22%2F%3E%0D%0A%20%20%20%3Cstop%20stop-color%3D%22%234876ff%22%20stop-opacity%3D%22.25%22%20offset%3D%221%22%2F%3E%0D%0A%20%20%3C%2FlinearGradient%3E%0D%0A%20%3C%2Fdefs%3E%0D%0A%20%3Ctitle%3Epng-file%3C%2Ftitle%3E%0D%0A%20%3Cpath%20id%3D%22paper-white%22%20d%3D%22m81.73%2029.79-26.18-29.73h-42.55a13%2013%200%200%200-13%2012.94v84.63a13%2013%200%200%200%2013%2013h55.88a13%2013%200%200%200%2013-13z%22%20fill%3D%22%23fff%22%2F%3E%0D%0A%20%3Cpath%20id%3D%22paper-shadow%22%20d%3D%22m81.73%2029.79-26.18-29.73h-42.55a13%2013%200%200%200-13%2012.94v84.63a13%2013%200%200%200%2013%2013h55.88a13%2013%200%200%200%2013-13z%22%20fill%3D%22url%28%23paper-shadow-gradient%29%22%2F%3E%0D%0A%20%3Cpath%20id%3D%22corner-white%22%20d%3D%22m55.58%200%200.6%2022.13a6.09%206.09%200%200%200%206.09%206.08l19.56%201.62z%22%20fill%3D%22%23fff%22%2F%3E%0D%0A%20%3Cpath%20id%3D%22corner-shadow%22%20d%3D%22m55.58%200%200.6%2022.13a6.09%206.09%200%200%200%206.09%206.08l19.56%201.62z%22%20fill%3D%22url%28%23corner-shadow-gradient%29%22%2F%3E%0D%0A%20%3Cpath%20id%3D%22icon%22%20d%3D%22m66.5%2055.49a0.28%200.28%200%200%200%200-0.13%200.21%200.21%200%200%200%200-0.06%200.65%200.65%200%200%200-0.19-0.18l-25.59-14.77a0.58%200.58%200%200%200-0.57%200l-17%209.82a0.35%200.35%200%200%200-0.21%200.12l-6.15%203.56a0.65%200.65%200%200%200-0.16%200.13v5.16a0.56%200.56%200%200%200%200.29%200.49l25.5%2014.73a0.58%200.58%200%200%200%200.28%200.07%200.59%200.59%200%200%200%200.29-0.07l23.23-13.36a0.56%200.56%200%200%200%200.29-0.49v-4.95a0.17%200.17%200%200%200-0.01-0.07zm-26.06-14%2024.37%2014.07-9.39%205.44-6.55%203.79-3.87-2.25a9.58%209.58%200%200%200%203.13-1.08%203.88%203.88%200%200%200%202.28-3.22%203.89%203.89%200%200%200-2.32-3.24%209.54%209.54%200%200%200-3-1.05l2.12-4.56a0.33%200.33%200%200%200%200-0.33%200.33%200.33%200%200%200-0.31-0.06l-15.46%202.35a0.32%200.32%200%200%200-0.27%200.26%200.32%200.32%200%200%200%200.15%200.34l5.81%203.36a4.2%204.2%200%200%200-1.6%201.85l-11.18-6.38zm-4.44%2016.66%206.89%203.93a10.05%2010.05%200%200%201-4.94-1.18%203.27%203.27%200%200%201-1.95-2.66zm0.14-0.67a3.72%203.72%200%200%201%201.66-1.81l4.89%202.82a0.29%200.29%200%200%200%200.16%200h0.1a0.33%200.33%200%200%200%200.19-0.18l1.75-3.77a9.17%209.17%200%200%201%202.92%201%203.28%203.28%200%200%201%201.95%202.66%203.27%203.27%200%200%201-1.95%202.66%209.42%209.42%200%200%201-3.76%201.14zm8.08-3-1.52%203.27-4.23-2.44-0.67-0.39-5.32-3.07%2014-2.16-1.94%204.18zm-20.52-3.32%2011.65%206.64a2.18%202.18%200%200%200%200%200.44%203.88%203.88%200%200%200%202.27%203.22%2010.74%2010.74%200%200%200%205.26%201.26h1l4.33%202.47-5.65%203.21-11.23-6.48-13.14-7.58zm-6.07%204.16%2024.37%2014.07v3.61l-24.37-14.09zm25.5%2016.47v-2.4l5.51-3.18v3.61l-5.51%203.18zm22.24-11.65-16.11%209.3v-3.61l16.08-9.29z%22%20fill%3D%22%234876ff%22%2F%3E%0D%0A%20%3Ctext%20id%3D%22label%22%20transform%3D%22rotate%28-.12%29%22%20x%3D%2212.07291%22%20y%3D%2298.885506%22%20fill%3D%22%234876ff%22%20font-family%3D%22sans-serif%22%20font-size%3D%2212.27px%22%20font-weight%3D%22700%22%3E.gif%3C%2Ftext%3E%0D%0A%3C%2Fsvg%3E%0D%0A",loading:"lazy",className:"file_card",alt:"GIF icon"})})]}),e.jsx("span",{children:"点击选择或拖拽文件上传"})]}),n&&e.jsx("div",{className:"infinite-progress-bar",children:e.jsx("div",{className:"bar"})})]})})})})},E=m.create({timeout:5e3});function x(){const{confirm:a}=c,[o,s]=t.useState([]),[i,l]=t.useState("Upload"),p=t=>(t.sort(((t,e)=>t.isFolder!==e.isFolder?e.isFolder?1:-1:t.fileName.localeCompare(e.fileName))),t),n=(t,e)=>{E.post("/api/delete",{filePath:i+"/"+t}).then((()=>{s(o.filter((e=>e.fileName!==t)))})).catch((t=>{}))};return e.jsx("div",{children:e.jsx("div",{className:"app-container",children:e.jsxs(d,{children:[e.jsx(F,{onSuccess:t=>{s(p([...o,{id:t.id,fileName:t.fileName,size:t.size,isFolder:!1}]))},data:{path:i}}),e.jsx(j,{data:o,path:i,retrive:t=>{(t=>{E.post("/api/files",{path:t,includeFolder:!0}).then((t=>{let e=t.data.data;p(e),s(e)})).catch((t=>{}))})(t)},navigate:(t,e)=>{e?l(t):(t=>{const e="/api/download?file="+encodeURIComponent(t);window.open(e,"_blank")})(t)},deleteAction:(t,o)=>{if(!o)return n(t);a({title:"确定要删除这个"+(o?"文件夹":"文件")+"吗?",icon:e.jsx(r,{}),content:"一旦删除，你将无法恢复这个文件",okText:"确认",cancelText:"取消",onOk(){n(t)}})},createFolder:(t,e)=>{const a={fileName:e,isFolder:!0,size:0};E.post("/api/createFolder",{path:t,name:e}).then((()=>{s(p([a,...o]))})).catch((t=>{}))}})]})})})}export{x as default};
