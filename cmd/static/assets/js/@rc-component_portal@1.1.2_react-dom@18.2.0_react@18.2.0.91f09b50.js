import{e as t,g as e}from"./@babel_runtime@7.22.15.d775819b.js";import{r as n}from"./react@18.2.0.be237728.js";import{r}from"./react-dom@18.2.0_react@18.2.0.0bb4e6e8.js";import{c as o,b as u,e as c,a,r as i,s as l,f}from"./rc-util@5.37.0_react-dom@18.2.0_react@18.2.0.5dac6347.js";var d=n.createContext(null),s=[];var m="rc-util-locker-".concat(Date.now()),v=0;function p(e){var r=!!e,o=n.useState((function(){return v+=1,"".concat(m,"_").concat(v)})),l=t(o,1)[0];u((function(){if(r){var t=c(document.body).width,e=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;a("\nhtml body {\n  overflow-y: hidden;\n  ".concat(e?"width: calc(100% - ".concat(t,"px);"):"","\n}"),l)}else i(l);return function(){i(l)}}),[r,l])}var h=!1;var y=function(t){return!1!==t&&(o()&&t?"string"==typeof t?document.querySelector(t):"function"==typeof t?t():t:null)},b=n.forwardRef((function(c,a){var i=c.open,m=c.autoLock,v=c.getContainer;c.debug;var b=c.autoDestroy,w=void 0===b||b,E=c.children,g=n.useState(i),S=t(g,2),C=S[0],_=S[1],j=C||i;n.useEffect((function(){(w||i)&&_(i)}),[i,w]);var x=n.useState((function(){return y(v)})),H=t(x,2),P=H[0],k=H[1];n.useEffect((function(){var t=y(v);k(null!=t?t:null)}));var D=function(r,c){var a=n.useState((function(){return o()?document.createElement("div"):null})),i=t(a,1)[0],l=n.useRef(!1),f=n.useContext(d),m=n.useState(s),v=t(m,2),p=v[0],h=v[1],y=f||(l.current?void 0:function(t){h((function(n){return[t].concat(e(n))}))});function b(){i.parentElement||document.body.appendChild(i),l.current=!0}function w(){var t;null===(t=i.parentElement)||void 0===t||t.removeChild(i),l.current=!1}return u((function(){return r?f?f(b):b():w(),w}),[r]),u((function(){p.length&&(p.forEach((function(t){return t()})),h(s))}),[p]),[i,y]}(j&&!P),R=t(D,2),W=R[0],q=R[1],L=null!=P?P:W;p(m&&i&&o()&&(L===W||L===document.body));var z=null;E&&l(E)&&a&&(z=E.ref);var A=f(z,a);if(!j||!o()||void 0===P)return null;var B,F=!1===L||("boolean"==typeof B&&(h=B),h),G=E;return a&&(G=n.cloneElement(E,{ref:A})),n.createElement(d.Provider,{value:q},F?G:r.createPortal(G,L))}));export{b as P};
