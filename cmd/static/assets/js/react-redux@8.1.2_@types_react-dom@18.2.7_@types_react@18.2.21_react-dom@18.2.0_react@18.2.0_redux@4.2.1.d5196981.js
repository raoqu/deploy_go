import{r as t}from"./react-dom@18.2.0_react@18.2.0.8df8243d.js";import"./hoist-non-react-statics@3.3.2.6a7bb5c0.js";import{r as e}from"./react@18.2.0.2fdb0b9b.js";import"./react-is@18.2.0.3044b35a.js";import{w as n}from"./use-sync-external-store@1.2.0_react@18.2.0.a97dec32.js";let o=function(t){t()};const r=()=>o,c=Symbol.for("react-redux-context"),s="undefined"!=typeof globalThis?globalThis:{};function u(){var t;if(!e.createContext)return{};const n=null!=(t=s[c])?t:s[c]=new Map;let o=n.get(e.createContext);return o||(o=e.createContext(null),n.set(e.createContext,o)),o}const i=u();function a(t=i){return function(){return e.useContext(t)}}const l=a();let f=()=>{throw new Error("uSES not initialized!")};const b=(t,e)=>t===e;function d(t=i){const n=t===i?l:a(t);return function(t,o={}){const{equalityFn:r=b,stabilityCheck:c,noopCheck:s}="function"==typeof o?{equalityFn:o}:o,{store:u,subscription:i,getServerState:a,stabilityCheck:l,noopCheck:d}=n();e.useRef(!0);const p=e.useCallback({[t.name]:e=>t(e)}[t.name],[t,l,c]),S=f(i.addNestedSub,u.getState,a||u.getState,p,r);return e.useDebugValue(S),S}}const p=d();const S={notify(){},get:()=>[]};function h(t,e){let n,o=S;function c(){u.onStateChange&&u.onStateChange()}function s(){n||(n=e?e.addNestedSub(c):t.subscribe(c),o=function(){const t=r();let e=null,n=null;return{clear(){e=null,n=null},notify(){t((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let o=!0,r=n={callback:t,next:null,prev:n};return r.prev?r.prev.next=r:e=r,function(){o&&null!==e&&(o=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}const u={addNestedSub:function(t){return s(),o.subscribe(t)},notifyNestedSubs:function(){o.notify()},handleChangeWrapper:c,isSubscribed:function(){return Boolean(n)},trySubscribe:s,tryUnsubscribe:function(){n&&(n(),n=void 0,o.clear(),o=S)},getListeners:()=>o};return u}const y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?e.useLayoutEffect:e.useEffect;function v({store:t,context:n,children:o,serverState:r,stabilityCheck:c="once",noopCheck:s="once"}){const u=e.useMemo((()=>{const e=h(t);return{store:t,subscription:e,getServerState:r?()=>r:void 0,stabilityCheck:c,noopCheck:s}}),[t,r,c,s]),a=e.useMemo((()=>t.getState()),[t]);y((()=>{const{subscription:e}=u;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[u,a]);const l=n||i;return e.createElement(l.Provider,{value:u},o)}function x(t=i){const e=t===i?l:a(t);return function(){const{store:t}=e();return t}}const m=x();function C(t=i){const e=t===i?m:x(t);return function(){return e().dispatch}}const g=C();var k,w;k=n.useSyncExternalStoreWithSelector,f=k,w=t.unstable_batchedUpdates,o=w;export{v as P,g as a,p as u};
